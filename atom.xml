<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[dgms code]]></title>
  <link href="http://dgmstuart.github.io/atom.xml" rel="self"/>
  <link href="http://dgmstuart.github.io/"/>
  <updated>2015-03-22T12:54:16+00:00</updated>
  <id>http://dgmstuart.github.io/</id>
  <author>
    <name><![CDATA[Duncan Stuart]]></name>
    <email><![CDATA[dgmstuart@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Tim Nash at WordCamp London - Beyond Unit Tests]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/22/tim-nash-at-wordcamp-london-beyond-unit-tests/"/>
    <updated>2015-03-22T12:17:20+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/22/tim-nash-at-wordcamp-london-beyond-unit-tests</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://london.wordcamp.org/2015/">WordCamp London</a> - live-blogging
some of the talks</em></p>

<p><a href="https://twitter.com/tnash">Tim Nash</a></p>

<ul>
<li>Strategy for handling a tight deadline: Piles of acceptance tests</li>
<li>Disagreement between different languages on what unit tests mean</li>
<li>Focus on tools and concepts not methodology</li>
<li><a href="http://codeception.com/">Codececption</a> - does a lot of things, mocking etc.
php testing framework</li>
<li>Acceptance testing: commands like <code>amOnPage</code>, <code>see</code>, <code>fillField</code></li>
<li>Define scenarios: login, fill in form and submit etc.</li>
<li>Generates reports in: console, html, xml (Ick!)</li>
<li>Can use different drivers: WebDriver (fast, headless, no js, basically does the equivalend of cURL), Selenium (Slow, but drives the actual browser: can be hard to set up), PhantomJS (headless, runs js)</li>
<li>Functional testing: sits alongside acceptance testing

<ul>
<li>Test the interactions between units - integrations</li>
<li>Ignore UI and JS - make posts directly: don&rsquo;t emulate the browser - just
call endpoints (incl. ajax) directly</li>
<li>Can also be used to test apis/rss, cli, sending email, can also test
xml-rpc</li>
</ul>
</li>
<li>We&rsquo;ll be interacting with the database, so we need to set up and tear down
data

<ul>
<li>WP-Browser handles these database interactions (i.e. you can directly
insert data)</li>
<li>Approach for setup and teardown: you can run a shell script before and
after a codeception test, so setup wp-cli scripts to do the database
setup and teardown</li>
</ul>
</li>
<li>Re-usable code in Codeception: Step objects (collections of related steps to DRY up tests?)

<ul>
<li>Helpers, Modules</li>
</ul>
</li>
<li>Refactoring strategy: Acceptance tests allow you to refactor your unit tests
with confidence, (which allows you to refactor your code with confidence)</li>
<li>Question: How to not couple the tests to e.g. the names of field names

<ul>
<li>Strategy: create a page object which wraps up those IDs, so that you
only have one point where you need to change these</li>
<li>Makes it slightly harder for non-developers to do the changes <em>(does it though??)</em>,
but makes it much more maintainable</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mark Jaquith at WordCamp London - Cache Money Business]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/22/mark-jaquith-at-wordcamp-london-cache-money-business/"/>
    <updated>2015-03-22T11:31:06+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/22/mark-jaquith-at-wordcamp-london-cache-money-business</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://london.wordcamp.org/2015/">WordCamp London</a> - live-blogging
some of the talks</em></p>

<p><img src="https://pbs.twimg.com/media/CAs0AgdWEAApTMb.jpg" alt="Mark Jaquith talking caching at #wcldn - photo by @davepullig on
twitter" /></p>

<p><em>photo of <a href="https://twitter.com/markjaquith">Mark Jaquith</a> by <a href="https://twitter.com/davepullig/">Dave Pullig</a></em></p>

<ul>
<li>Ultimately failing to cache could take your site down: run out of connections</li>
<li>Caching principles:

<ul>
<li>Do less work - By default WP is Totally dynamic - there&rsquo;s a lot of
complex stuff going on and it all gets done on every single request</li>
<li>Hold onto data as long as it makes sense to do so: this is very specific
to each individual site (at least for certain kinds of content)</li>
<li>Make output generic: the more specific it is to a particular user, the
less cachable it is</li>
</ul>
</li>
<li>Page caching:

<ul>
<li>Batcache - if a page gets requested more than 3 times in 3 mins it
caches that whole page for 6 mins</li>
<li>Used by WP.com</li>
<li>Unobtrusive - only caches the most frequently requested stuff</li>
<li>low-configuration</li>
</ul>
</li>
<li>W3TotalCache

<ul>
<li>Extremely complex, lots of layers</li>
</ul>
</li>
<li>WPSuperCache

<ul>
<li>Somewhere in-between</li>
</ul>
</li>
<li>Varnish or Nginx

<ul>
<li>Cache before it hits the webserver</li>
</ul>
</li>
<li>CDN

<ul>
<li>geographically distributed caches: people access the cache closest to
them</li>
<li>Very popular for media files, but can be used for the whole site.</li>
<li>Will obey cache headers</li>
</ul>
</li>
<li>Nginx Cache Purging

<ul>
<li>This is tricky</li>
<li>There&rsquo;s a third party package which can be compiled from source which
enables this. But :-P</li>
<li>Approach: Configure a &lsquo;magic header&rsquo; ;) - when it&rsquo;s passed with a
request, it skips getting, but not setting, so overwrites whatever is
currently in the cache</li>
</ul>
</li>
<li>Variable cache lengths + proactive cache refreshing:

<ul>
<li>Warm the cache (on cron) more frequently than it&rsquo;s getting expired, to
make sure that your content is always cached</li>
</ul>
</li>
<li>Does being logged-in mean you can&rsquo;t cache the page?

<ul>
<li>It&rsquo;s a pain if you have 1000&rsquo;s of logged in users/active commenters etc.</li>
<li>Think about how the page varies based on who you are logged in as:
toolbar, private posts - etc.</li>
<li>Choice: remove those things OR make them generic</li>
<li>Comment forms: hide them by default, show them with ajax - either when
hitting a button, or when scrolling to the bottom of the page (!)</li>
<li>Remove toolbar for subscribers etc. - it&rsquo;s not very useful!</li>
<li>Remove private post fucntionality if it&rsquo;s not used: it makes the queries
much more complicated anyway</li>
<li>Replace moderated comments with a generic &ldquo;your comment is being
moderated&rdquo; message</li>
</ul>
</li>
<li>Approach if you really need to show logged-in data:

<ul>
<li>Use cookies: by default WP renders user-specific content using php, but
that&rsquo;s very odd</li>
<li>Set JS-readable cookies and use them to populate the content</li>
<li>He&rsquo;s just written <a href="https://github.com/markjaquith/cache-buddy">Cache Buddy</a> - a plugin to do this</li>
</ul>
</li>
<li>Object Caching

<ul>
<li>APCu, Memcache, or (recommended:) Redis</li>
<li>put them in <code>object-cache.php</code> - they need to be loaded before plugins</li>
</ul>
</li>
<li>Transients + Object Cache

<ul>
<li>For just a few values use transients - stores data in the options table</li>
<li>For 1000s of values use the object cache</li>
<li>Object cache can organise cache keys into groups</li>
</ul>
</li>
<li>Cache stampedes: What happens when cache expires?

<ul>
<li>One user triggers the remote request</li>
<li>then the next user also triggers it (before it&rsquo;s completed)</li>
<li>and another&hellip; STAMPEDE!</li>
<li><code>tlc_transient</code> - handles this problem: soft expiration - data gets
marked as expired but not deleted until the new data is available (!)</li>
</ul>
</li>
<li>Html fragment caching

<ul>
<li>e.g. A complex footer that&rsquo;s the same on every page</li>
<li><code>CWS_Fragment_Cache</code></li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WP London - Bruce Lawson - Responsive Images]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/21/wp-london-bruce-lawson-responsive-images/"/>
    <updated>2015-03-21T15:18:00+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/21/wp-london-bruce-lawson-responsive-images</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://london.wordcamp.org/2015/">WordCamp London</a> - live-blogging
some of the talks</em></p>

<p><a href="http://www.brucelawson.co.uk/">Bruce Lawson</a></p>

<ul>
<li>Responsiveness includes speed of loading</li>
<li>0.5 second delay is a 20% drop in traffic</li>
<li>Images are a major cause of slowing down pages</li>
<li>Av web page is 1.9MB - of which 1.2MB are images</li>
<li>Number of images loaded is static over time, but the size of images
increases significantly over time</li>
<li>How can I send huge images to retina devices, but smaller images for
rendering on smaller screens? Answer: HARD.</li>
<li>First try: use css to swap in images based on page width:

<ul>
<li>Fail: loads the retina image THEN the smaller image - i.e. downloads
both - the opposite of what we want</li>
<li>This is because CSS and JS get applied to the DOM, so the DOM needs to
get loaded first (?)</li>
<li>Browsers can create the DOM tree in whatever way they like</li>
<li>Because of preloading (&ldquo;the single greatest performance improvement
that browsers have ever made&rdquo;) The whole of the source is read before the DOM tree is loaded - as soon
as an image is spotted in the DOM, a request is sent off to fetch that
image (i.e. before the DOM tree gets constructed)</li>
<li>therefore doing things in the  CSS is too late</li>
</ul>
</li>
<li>Therefore it needs to be the markup - Media Queries have been around a long
time</li>
<li>Respimg - responsive images community group</li>
<li>First time a group of web developers wrote part of the standard and got it
into the spec</li>
<li>Now in Opera and Chrome and soon to be in Webkit</li>
<li>First use case - optimise for high dpi screeens:

<ul>
<li>srcset attribute: specify images for particular pixel densities: a
candidate list which the browser can use to select an optimal image</li>
<li>The browser gets to choose - this is so that e.g. the user can choose what
sort of image quality they wnat to have</li>
</ul>
</li>
</ul>


<p><img src="https://igcdn-photos-b-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-15/11023186_1799356763623801_1327635725_n.jpg" alt="@Brucel talking responsive images" /></p>

<ul>
<li>Second use case - stretchy images

<ul>
<li>Can be done straightforwardly with css, but involves sending massive
images down the wire and putting a lot of CPU load on the browser</li>
<li>Slows things down for the user!</li>
<li>solution: w descriptor - use in src set to tell the browser which image
is more suitable for a particular page width</li>
</ul>
</li>
<li>All this requires a lot of cruft to add in all the clauses to make this work, but
there&rsquo;s a plugin from Respimg which does it for you</li>
<li>Third use case - new image formats

<ul>
<li>JPG/PNG/GIF are ubiquitous, but there are more modern, better
compression alternatives: smaller files, better quality - e.g. WebP</li>
<li>Traditionally the logic is you can&rsquo;t use this in the wild because only
Chrome and Opera support it</li>
<li>with the <code>&lt;picture&gt;</code> element you can supply different image formats with
fallbacks - so e.g. you can use WebP and fall back to img (actually
browsers will force you to do progressive enhancement (supply an image)</li>
</ul>
</li>
<li>Last use case - art direction

<ul>
<li>Choose a different aspect of the image to display on different devices:
zoom in on a different bit of the image for different viewport sizes</li>
<li>Use media queries within the <code>&lt;picture&gt;</code> element to display different
versions of an image at different widths</li>
</ul>
</li>
<li>Release dates:

<ul>
<li>in OPera and Chrome now</li>
<li>FF in may</li>
<li>IE &ldquo;under consideration&rdquo; &hellip;</li>
<li>Safari already implement <code>srcset</code> - havent talked about <code>&lt;picture&gt;</code></li>
</ul>
</li>
<li>YOU CAN USE THIS NOW

<ul>
<li>It&rsquo;s designed to force progressive enhancement - nobody gets a worse
experience than they do now</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sandi Metz: Nothing Is Something - at BathRuby]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/sandi-metz-nothing-is-something-at-bathruby/"/>
    <updated>2015-03-13T16:38:05+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/sandi-metz-nothing-is-something-at-bathruby</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<ul>
<li>All of her teaching ideas have a single underlying principle</li>
<li>Learned OO from Smalltalk - massive influence on the way she thinks about
objects</li>
<li><code>+</code> is just a method on <code>Fixnum</code></li>
<li>Ruby&rsquo;s <code>if</code> is effectively a typecheck (a check of whether an object is a
member of <code>NilClass</code>/<code>Trueclass</code> ??)

<ul>
<li><code>if</code> is very prodedural (not OO)</li>
</ul>
</li>
<li>Sometimes <code>nil</code> means nothing - so just remove nils from your results (e.g.
<code>compact</code> the array</li>
<li><code>try</code> can effectively be a typecheck (for <code>NilClass</code>)</li>
<li>Conditions breed: if you have one you&rsquo;ll get more. Making a change around
them in one place may involve making changes in lots of places (&ldquo;shotgun
surgery&rdquo;)</li>
<li>If you return nil then calls to that object can return objects which respond
to different Apis: The object&rsquo;s or NilClass&rsquo;s. Solution: Null Object Pattern
(#ftw)</li>
<li>Null Object is for when Nothing is actually a thing - for when you need to
talk to it</li>
<li>Null Object is a new dependency, so wrap it in a new class which returns
either an instance of your Object, or the Null Object, then pass this new
class around</li>
<li>Null Object is a concrete implementation of a more general idea</li>
<li>Single responsibilities allow you to override specific behaviours when
inheriting</li>
<li>Extending behaviour by inheritance makes it impossible to share multiple
behaviours</li>
<li>Inheritance is for specialisation (not for ??)

<ul>
<li>There&rsquo;s no such thing as just one specialisation&hellip;</li>
</ul>
</li>
<li>Approach - Composition and dependecy injection:

<ol>
<li>make the original behaviour and the new behaviour look the same - this
highlights the way they&rsquo;re different</li>
<li>Give the new behaviour a name - this helps work out what&rsquo;s being applied
to the original object</li>
<li>Inject an object which represents the behaviour</li>
</ol>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tom Stuart - 'a Lever for the Mind' at BathRuby]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/tom-stuart-a-lever-for-the-mind-at-bathruby/"/>
    <updated>2015-03-13T14:53:54+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/tom-stuart-a-lever-for-the-mind-at-bathruby</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<p><img src="https://pbs.twimg.com/media/B__KM61WQAAyEr9.jpg:medium" alt="Slide photo by @trailsuite" /></p>

<p><em>Photo by <a href="https://twitter.com/trailsuite">@trailsuite</a></em></p>

<ul>
<li>Brains are just not very good at working with several complex ideas
concurrently</li>
<li>Abstraction is our solution to this</li>
<li>Numbers are a <em>property</em> of sets (?) of things. It doesn&rsquo;t matter how we
arrange the things, or how big they are</li>
<li>We build other concepts on top of our idea of number: e.g. successor - a way
to generate new numbers. gt/lt can be built from the idea of successors</li>
<li>These abstractions allow us to predict what would happen in reality when
certain actions occur: we can do the &lsquo;work&rsquo; in the &lsquo;abstract world&rsquo; rather
than doing it in the real world and observing the result.</li>
<li>Recognise patterns. Some patterns can be generalised to apply to whole
classes of items (e.g. all natural numbers)</li>
<li>You don&rsquo;t need to remember the details of <em>why</em> a particular formula works:
it doesn&rsquo;t matter: you can use it without understanding why it&rsquo;s true</li>
<li>A <em>walk</em> across a graph is a sequence of visits from node to node along
their adjacent edges</li>
<li>A <em>connected graph</em> is one where there exists a walk between any pair of notes</li>
<li>A <em>trail</em> is a walk which doesn&rsquo;t repeat traversing edges</li>
<li>An <em>Euleurian trail</em> is a walk which visits every node and uses every edge</li>
<li>Mathematics: &ldquo;spot patterns, build reusable abstractions&rdquo;</li>
<li>Abstractions help us take complex things from the real world and reconstruct
them in our heads so that we cal (?reason about them?)</li>
<li>Idea of the <em>honest</em> abstraction - the one which &lsquo;honestly&rsquo; models your
problem.</li>
<li>The <em>minimal</em> abstraction: start from nothing and only add the
behaviours/ideas/operations which are strictly necessary</li>
<li>&ldquo;the most exciting thing you can do with your brain is to strap it into the
hulking exoskeleton of mathematics&rdquo;</li>
<li>If you can write a program, you&rsquo;re good at mathematics</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Katrina Owen at BathRuby: Here Be Dragons]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/katrina-owen-at-bathruby-here-be-dragons/"/>
    <updated>2015-03-13T14:00:28+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/katrina-owen-at-bathruby-here-be-dragons</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<p><img src="https://pbs.twimg.com/media/B_-97ueWAAAnsGS.jpg" alt="photo by
@Naomi_Freeman" /></p>

<p><em>Photo by <a href="https://twitter.com/Naomi_Freeman">@Naomi_Freeman</a></em></p>

<ul>
<li>Some bugs are admirable. Squashing them makes you feel victorious</li>
<li>Squashing the bug isn&rsquo;t enough: if you don&rsquo;t clear up the root issues, it
will just cause you future pain - cleaning up the mess.</li>
<li>Fundamental attribution error: assume that bad code means a bad
person/unskilled developer (other people), or assume that they were having a bad day (our
friends)</li>
<li>Prisoner&rsquo;s dilemna as a metaphor for the choice of whether to follow good
practices

<ul>
<li>The rational choice is to always &lsquo;defect&rsquo; - but everyone loses.</li>
<li>The way to maximise the overall result for people is for everyone to
cooperate (add tests, improve error handling, extract responsibilities)</li>
<li>only works if everyone is on board: one person &lsquo;defecting&rsquo; will mess it up
for everyone</li>
</ul>
</li>
<li>Every commit we make tips the balance in one direction or the other: towards
entropy or order</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Live-coding Music at BathRuby]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/live-coding-music-at-bathruby/"/>
    <updated>2015-03-13T12:34:18+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/live-coding-music-at-bathruby</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<p>Amazing demo of using <a href="http://sonic-pi.net/">Sonic-pi</a> to make music live:
by <a href="https://twitter.com/xavriley">Xavier Riley</a></p>

<iframe src="https://vine.co/v/O9jBg0wY3Ti/embed/simple" width="600"
height="600" frameborder="0"></iframe>


<p><script
src="https://platform.vine.co/static/scripts/embed.js"></script></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Saron Yitbarek - Learning Code Good (at BathRuby)]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/saron-yitbarek-learning-code-good-at-bathruby/"/>
    <updated>2015-03-13T11:27:15+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/saron-yitbarek-learning-code-good-at-bathruby</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em>
<img src="https://pbs.twimg.com/media/B_-Xi25W8AAKFwW.jpg:medium" alt="photo by
@Naomi_Freeman" /></p>

<p><em>Photo by <a href="https://twitter.com/Naomi_Freeman">@Naomi_Freeman</a></em></p>

<ul>
<li>Dreyfus model of skill acquisition - LOOK UP</li>
<li>Advice she got for going from novice to expert: &ldquo;Read code&rdquo;</li>
<li>Codeclub: sunday morning reading group</li>
<li>Rules for what to read: Exemplary code: popular, documented, well maintained</li>
<li>Starting point: Sinatra&rsquo;s <code>get</code> method</li>
<li>&ldquo;A huge fan of remote working: Any excuse to not wear pants is great&rdquo; :)</li>
<li>Met on google hangouts</li>
<li>Did a retrospective on the sessions:

<ul>
<li>Decided to pick only small things: &lt; 100 lines of code: gives space to ask
questions, reasearch etc.</li>
</ul>
</li>
<li>Understanding: it&rsquo;s not really about reading the code: it&rsquo;s about the
convesations it starts.</li>
<li>Keeping it small - 5 consistent people - helps to keep it engaged</li>
<li>Important to have a &lsquo;tour guide&rsquo; making sure everyone is engaged and
contributing (?)</li>
<li>Asking the question of crappy methods &ldquo;how would we have written it?&rdquo; is
really interesting.

<ul>
<li>Therefore it&rsquo;s not necessary for the code to be exemplary: lots of benefit
in reading shonky code</li>
</ul>
</li>
<li>Drawing out knowledge gaps: the things you think you understand but actually
have no idea about</li>
<li>Reading something you actually need to use is a totally different
experience: you&rsquo;re much more invested in it</li>
<li>Look at organisation of the code, not just the detail (how code is organised
into files, what they&rsquo;re called etc)</li>
<li>Learning on your own is possible but really tiring.</li>
<li>Learning in a bootcamp is very expensive and time-consuming</li>
<li>Solution: <a href="http://www.codenewbie.org/">codenewbie</a> - connecting new developers with each other</li>
<li>&ldquo;The learning happens in the digressions&rdquo;</li>
<li>Knowledge = connecting the &lsquo;dots&rsquo; of information</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ben Orenstein: Live Coding in the Bath at BathRuby]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/ben-orenstein-live-coding-in-the-bath-at-bathruby/"/>
    <updated>2015-03-13T10:34:52+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/ben-orenstein-live-coding-in-the-bath-at-bathruby</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<ul>
<li>Live coding!</li>
<li>Code for sending mail to a list of recipients based on a csv</li>
<li>Problems:

<ul>
<li>Will fail if one of the recipients fails to get parsed</li>
<li>CSV should get injected as a dependency rather than bring parsed in this
class.</li>
<li>Class has multiple responsibilities: parsing and mailing</li>
</ul>
</li>
<li>TDD: Should take very little time and effort to run tests (his are two
keystrokes and no time)</li>
<li><p>an &lsquo;extract class&rsquo; refactoring:</p>

<ol>
<li>add the class we  want in the initialiser</li>
<li>create an empty spec</li>
<li>create the class</li>
</ol>
</li>
<li><p><code>CSV::strip_heredoc</code> - Look up</p></li>
<li>Don&rsquo;t write specs for private methods - test them implicitly through the
public methods</li>
<li>Spec style for parsing output:

<ol>
<li>create a csv string</li>
<li>create an output hash</li>
<li>expect parsing the csv string to equal the output hash</li>
</ol>
</li>
<li>TDD approach - do only the smalles thing to get the message to change: e.g.
create initializer with no args, then add one arg, then start to define
behaviour</li>
<li>Now actually use the parser.</li>
<li>Tests green = OVERWHELMING INSTINCT TO COMMIT!</li>
<li>&ldquo;Component test&rdquo; = integration test just covering a selection of components
(?)</li>
<li>Test refactoring: extract methods! (e.g. to do repeated stubbing and other
setup)

<ul>
<li>could use <code>before</code>, but tends to do this later or not at all. Makes specs
harder to read and maintain (?): each spec is different. Extracting method is definitely the first
step.</li>
</ul>
</li>
<li>&ldquo;We make a mess first, then we clean it up&rdquo;</li>
<li>Invert control: it&rsquo;s odd that we pass the csv into the Invitations class

<ul>
<li>Instead, &ldquo;build dependencies at higher level and pass it down to lower
levels&rdquo; (??)</li>
<li>Instead of passing the csv to invitations and creating a parser based on
it, let&rsquo;s send invitations to the parser (!)</li>
</ul>
</li>
<li>Inverting control benefits:

<ul>
<li>Easier to follow Open/Closed principle</li>
<li>Shorter specs</li>
</ul>
</li>
<li>Question &ldquo;The specs passed from the beginning, so weren&rsquo;t you done?&rdquo;

<ul>
<li>Answer: Refactoring makes more flexible maintainable code</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bath Ruby: Linda Liukas - Principles of Play]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/03/13/bath-ruby-linda-liukas-principles-of-play/"/>
    <updated>2015-03-13T09:42:26+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/03/13/bath-ruby-linda-liukas-principles-of-play</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2015.bathruby.org/">Bath Ruby 2015</a>, live blogging some of the
talks</em></p>

<p><img src="https://pbs.twimg.com/media/B_-CEvAWEAA1Fqu.jpg:large" alt="Photo of Linda Liukas by
@Naomi_Freeman" /></p>

<p><em>photo by <a href="https://twitter.com/naomi_freeman/">@Naomi_Freeman</a></em></p>

<ul>
<li>Railsgirls in over 277(?) cities

<ul>
<li>Started in Helsinki</li>
</ul>
</li>
<li>&ldquo;The most scalable change in the world happens when you&rsquo;re 4 years old&rdquo;</li>
<li>&ldquo;If you draw 1000 circles eventually your circles will get better&rdquo;</li>
<li>Realtity distortion: being in the community allowed her to think &ldquo;Hey I can
write a children&rsquo;s book, even though I don&rsquo;t know how to draw, or write a
book, or program very well</li>
<li>3 principles of learning: Playfulness, Curiosity, Rules</li>
<li>Learning Real-world languages (Finnish) by reading other people&rsquo;s texts, not
by learning grammar rules first</li>
<li>&ldquo;Little girls don&rsquo;t know the are not supposed to like computers&rdquo;</li>
<li>Two joys of programming: 1. Building beautiful elegant proper things 2.
trying things which you&rsquo;re not sure will work and thrilling when it actually
works. This second one is the playfulness (what she&rsquo;s focussing on&#8221;</li>
<li>3 components of learning: Achievement, Social and Immersion. Traditional
learning mainly just focusses on the first</li>
<li>Rules: <em>how</em> do things work. &ldquo;Imposing logic on something otherwise hard to
understand&rdquo;</li>
<li>Teaching through metaphors: baking cupcakes - if you change the recipe
you&rsquo;ll get different cupcakes.</li>
<li>Curiosity: Asking <em>why</em>

<ul>
<li>Introduce 5 year olds to the idea that any object (cars, dogs, toilets)
could have a computer in it</li>
<li>Opening up to asking questions: &ldquo;what <em>happens</em> when I press play&rdquo;, &ldquo;is
the internet a place&rdquo; - these sort of questions which many adults don&rsquo;t
really
ask</li>
<li>Making computers out of paper - totally open thinking: this button prints
out lego - that button makes breakfast.</li>
</ul>
</li>
<li>__why&rsquo;s poignant guide etc. - opens up to this idea that people in
programming can be whimsical, human - not what an initial picture of
programming might be like</li>
<li>Programmers have found the loophole: we are the world-builders: making
something out of nothing using just words: Programming as Storytelling</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setting Up a Ruby Dev Environment on Bowery.io]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/02/28/setting-up-a-ruby-on-rails-dev-environment-on-bowery-dot-io/"/>
    <updated>2015-02-28T01:27:44+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/02/28/setting-up-a-ruby-on-rails-dev-environment-on-bowery-dot-io</id>
    <content type="html"><![CDATA[<p><em>EDIT: Apparently it&rsquo;s not possible to run docker inside a Bowery instance
because Bowery uses docker and docker has a hard time running inside a docker
container - see <a href="https://groups.google.com/forum/#!topic/bowery/WsXWzWghwVc">this post on the forum</a></em></p>

<p><a href="http://bowery.io/">Bowery.io</a> is a hosted development environment service.
The idea is that you edit your files locally, but run your code in a cloud-hosted
<a href="https://www.docker.com/">Docker</a> container, based on an image which can be
shared and edited by teams.</p>

<p>It looks like it used to host its own packages and allow environments to be
set up through a gui, but now the approach is to either install everything by
hand or use a dockerfile, which I guess makes sense as docker has become more
and more popular and Bowery&rsquo;s main audience is going to be quite devvy devs
who are comfortable using docker.</p>

<p>I had a go at setting up an environment for ruby development and didn&rsquo;t really
find any documentation so here&rsquo;s what I tried:</p>

<h2>Approach: Use a dockerfile</h2>

<p>The simplest way to start your Bowery image with ruby is to use a dockerfile
which sets ruby up for you. This can be as simple as creating a file called
<code>Dockerfile</code> at the root of your project, consisting of this line:</p>

<pre><code>from ruby:2.2.0
</code></pre>

<p>&hellip;then when you select your code directory for the first time through the
Bowery app you can click &ldquo;Yes&rdquo; on this prompt to initialize your Bowery image
based on that Dockerfile:</p>

<p><img src="http://dgmstuart.github.io/images/content/bowery_prompt.png"></p>

<p>More details about this approach can be found <a href="http://bowery.io/posts/dockerfile-support/">on the Bowery blog</a></p>

<h2>Approach: Install ruby directly</h2>

<p>Not having ever used docker in anger, my first attempt involved just
installing ruby manually. The following steps are
basically a textbook set of steps for installing ruby on a new Ubuntu machine
(which is what Bowery instances are based on):</p>

<ol>
<li><p>Update apt-get:</p>

<pre><code> apt-get update
</code></pre></li>
<li><p><a href="https://github.com/sstephenson/ruby-build/wiki#suggested-build-environment">Install the dependencies for ruby-build</a>
using apt-get</p></li>
<li><p><a href="https://github.com/sstephenson/rbenv">Install rbenv</a></p></li>
<li><p><a href="https://github.com/sstephenson/ruby-build">Install ruby-build</a></p></li>
<li><p>Install ruby with rbenv:</p>

<pre><code> rbenv install 2.2.0
 rbenv global 2.2.0
</code></pre></li>
<li><p>Install bundler:</p>

<pre><code> gem install bundler
</code></pre></li>
</ol>


<h2>What about Rails?</h2>

<p>I <em>have</em> managed to successfully set up a Rails dev environment using Bowery,
but it ended up being pretty fiddly and I&rsquo;m not sure I have anything coherent
enough to blog about.</p>

<p>I essentially set it up just like any other ubuntu box would be set up (but
I&rsquo;m still pretty green at server management - hence fiddly).</p>

<p>What I was hoping
to find was a Dockerfile which at least set up Ruby and Postgres, but it seems
like the normal approach is to run separate Docker containers and link them
(as in <a href="http://allenwei.cn/setup-rails-development-environment-with-docker/">this tutorial</a>).
I don&rsquo;t think this approach applies to Bowery, where a single dockerfile is
used to initialize the image. I suppose I could run docker on Bowery though? (#meta)</p>

<p>In any case, here are the additional components which need to be installed to
run my Rails dev environment:</p>

<ul>
<li>A Javascript runtime (I installed Node.js with apt-get)</li>
<li>A database (I installed Postgresql with apt-get but had a pain setting it up)</li>
<li>A headless browser for javascript specs (I <a href="http://phantomjs.org/build.html">built phantom.js from
scratch</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How Your Base PATH Gets Generated in OSX]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/02/23/how-your-base-path-gets-generated-in-osx/"/>
    <updated>2015-02-23T23:03:33+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/02/23/how-your-base-path-gets-generated-in-osx</id>
    <content type="html"><![CDATA[<p>On OSX and linux it seems to be fairly common practice to totally define the <code>PATH</code> in a
<code>.profile</code> or <code>.bashrc</code> file. This gives total control over the order in which
various locations are searched through. Here&rsquo;s the line from <a href="https://github.com/dgmstuart/dotfiles/blob/master/.profile">my .profile</a>:</p>

<pre><code>export PATH=~/bin:/usr/local/bin:/usr/bin:/usr/sbin:/bin:/sbin
</code></pre>

<p>However, your <code>PATH</code> isn&rsquo;t just set through <code>profile</code> and <code>rc</code> files: if you
don&rsquo;t build your path from scratch and you only ever append or prepend to it
with statements like <code>export PATH=$PATH:some/other/stuff</code> then the OS helpfully
sets your base <code>PATH</code> to something sensible.</p>

<p>It does this based on various files in <code>/etc</code> (at least on OSX):</p>

<h2><code>/etc/paths</code></h2>

<p>This contains the list of the various binary directories which make up the core of your path:</p>

<pre><code>/usr/local/bin
/usr/bin
/bin
/usr/sbin
/sbin
</code></pre>

<h2><code>/etc/paths.d</code></h2>

<p>This contains a number of files which contain paths for various applications,
again with one path element per line. I believe these are added to the <em>end</em> of
the <code>PATH</code>. Mine includes a <code>git</code> file:</p>

<pre><code>/usr/local/git/bin
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to Not Break Permalinks in WordPress]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/02/06/how-to-not-break-permalinks-in-wordpress/"/>
    <updated>2015-02-06T00:13:40+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/02/06/how-to-not-break-permalinks-in-wordpress</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve written a blog post for <a href="https://www.dxw.com/">work</a> about how much you can and can&rsquo;t mess around with urls in WordPress before old links stop working. It boils down to 5 rules:</p>

<ol>
<li>Editing Post slugs doesn’t break old links</li>
<li>Editing Post url structure (the permalinks) doesn’t break old links</li>
<li>Changing both the permalink structure and the slug will break old links</li>
<li>Editing the parent/child relationships of pages doesn’t break old links</li>
<li>Editing the slugs of pages will break old links</li>
</ol>


<p>For more details read the full post on the dxw blog: <a href="https://www.dxw.com/2015/02/keeping-traffic-flowing-to-your-wordpress-site-after-a-big-restructuring/">Keeping traffic flowing to your WordPress site after a big restructuring</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Managing Identity in Git]]></title>
    <link href="http://dgmstuart.github.io/blog/2015/02/04/managing-identity-in-git/"/>
    <updated>2015-02-04T00:17:21+00:00</updated>
    <id>http://dgmstuart.github.io/blog/2015/02/04/managing-identity-in-git</id>
    <content type="html"><![CDATA[<p>When using git, your commits are labelled with your name and email address.
These are usually based on the <code>user.name</code> and <code>user.email</code> fields in a global <code>.gitconfig</code> file in your home directory,
ensuring that these values are always available.</p>

<p>There might be some circumstances under which these need to vary. For example, on public projects for work I like to use my work email rather than my personal one.
There are a couple of ways to achieve this:</p>

<h3>1. As an argument to the commit:</h3>

<pre><code>git commit user.email duncan@work.com
</code></pre>

<p>This is useful for one-off commits but would be tedious to type every time.</p>

<h3>2. In a local git config</h3>

<pre><code>git config user.email duncan@work.com
</code></pre>

<p>This creates a local <code>.gitconfig</code> file. Useful in project directories - since all child directories will use settings in this file,
or will fall back to the global settings if a setting isn&rsquo;t present in this file.</p>

<h3>3. In an environment variable</h3>

<pre><code>export AUTHOR_EMAIL=duncan@work.com
export COMMITTER_EMAIL=duncan@work.com
</code></pre>

<p>These override everything - any email setting in any <code>.gitconfig</code> file.
Useful if like me you like to <a href="https://github.com/dgmstuart/dotfiles">manage your dotfiles in git</a>
and share them on github in order to easily copy settings between different computers.</p>

<p>These could be set in a local <code>.profile</code> file to make every project on that computer use a different email to your main one, while keeping the <code>.gitconfig</code> file pristine.
<em>To understand the difference between Author and Committer see <a href="https://stackoverflow.com/questions/18750808/difference-between-author-and-committer-in-git/18754896#18754896">this StackOverflow post</a></em></p>

<h2>Bonus: What if you don&rsquo;t set anything?</h2>

<p>It turns out git will try it&rsquo;s best to find a name and email address to associate with your commits even if you don&rsquo;t tell it explicitly what these are.
Here&rsquo;s where it looks, in order, for an email address to use:</p>

<ol>
<li>An <code>EMAIL</code> local variable</li>
<li>Your system username <code>@</code> the value in <code>/etc/mailname</code> (which only exists on Debian systems?)</li>
<li>Your system username <code>@</code> the fully qualified hostname of the computer</li>
</ol>


<p>For more information check out the <a href="http://git-scm.com/docs/git-commit-tree.html">git documentation on the topic</a></p>

<p><em>Thanks to <a href="https://twitter.com/holizz">@holizz</a> for helping me understand all this</em></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pivotal Talk: Data-informed Product Decisions]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/10/22/pivotal-talk-data-driven-product-decisions/"/>
    <updated>2014-10-22T12:48:38+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/10/22/pivotal-talk-data-driven-product-decisions</id>
    <content type="html"><![CDATA[<p><a href="http://www.meetup.com/Pivotal-Labs-Tech-Talks/events/213571202/">http://www.meetup.com/Pivotal-Labs-Tech-Talks/events/213571202/</a></p>

<p>Marc Abraham. <a href="http://www.slideshare.net/abrahammarc1/102214-pivotal-labs-tech-talk">Slides</a></p>

<ul>
<li>First thing is to ask the right questions</li>
<li>Book - Lean Analytics</li>
<li>Articulate Assumptions about the benefits of your product,</li>
<li>Define Hypothesis: how will we know (in terms of hard metrics) if our assumptions are validated? What does success look like?</li>
<li>To start with, focus on one key metric</li>
<li>Behavioural plan - what do you want users to do - both to achieve user needs and business needs</li>
<li><p>You have a live product:</p>

<ul>
<li>Is it meeting the hypothesis</li>
</ul>
</li>
<li><p>Product retrospectives: how are we doing with the product - what does the data tell us about how well it&rsquo;s going?</p></li>
<li><p>Data-Driven vs Data Informed approaches</p>

<ul>
<li>Data Driven:

<ul>
<li>Focus on one metric - collect lots of data (A/B, Multivariate tests etc. and understand whether what you&rsquo;re doing is impacting that metric)</li>
</ul>
</li>
</ul>
</li>
<li><p>Data Informed</p>

<ul>
<li>Data might not tell you whether it&rsquo;s a good product idea full stop: might be a leap of faith

<ul>
<li>When you actually have an MVP, <em>then</em> you can start gathering data</li>
</ul>
</li>
<li>Plurality is the key: data is often just one aspect in data decisions</li>
<li>Talk - Adam Osiri (?) on Facebook&rsquo;s data-informed approach</li>
<li>Data is important, bit other factors come into play: resources, competition, regulation, brand.</li>
<li>You can&rsquo;t replace intuition or creative ideas with data</li>
</ul>
</li>
<li><p>5 key points:</p>

<ol>
<li>Focus on the right questions</li>
<li>Data can&rsquo;t replace intuition</li>
<li>Listen to the data and act accordingly

<ul>
<li>This is hard</li>
<li>e.g. data might say that your idea or your variation isn&rsquo;t actually effective.</li>
</ul>
</li>
<li>Build and launch with data in mind

<ul>
<li>Include analytics in the user stories</li>
<li>Start thinking about your assumptions and hypotheses at the beginning of the product life cycle</li>
<li>as soon as you start working on the product you should be working with the analytics team/building data in from the ground up.</li>
</ul>
</li>
<li>Be clear about your hypotheses, sample size and timing.

<ul>
<li>how large a sample do you need before you can claim that your results are significant.</li>
</ul>
</li>
</ol>
</li>
<li><p>Final statement &ldquo;Embrace the data - don&rsquo;t fear it&rdquo;</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordCamp Europe 2014 Notes - 2.5: Matt Mullenweg Q&amp;A]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-5-matt-mullenweg-q-and-a/"/>
    <updated>2014-09-28T12:28:13+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-5-matt-mullenweg-q-and-a</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2014.europe.wordcamp.org/">WordCamp Europe</a> in Sofia - taking rough notes on some of the talks</em></p>

<p>Matt Mullenweg, Om Malik <a href="http://2014.europe.wordcamp.org/session/matt-mullenweg/">http://2014.europe.wordcamp.org/session/matt-mullenweg/</a></p>

<p><img src="https://pbs.twimg.com/media/Byng_nfIgAErGt4.jpg" alt="Matt Mullenweg in conversation with Om Malik" /></p>

<h2>In conversation with Om Malik:</h2>

<ul>
<li>Biggest learning in the last 11 years?

<ul>
<li>The community makes it what it is - not the feature set. Lots of other software checks the same boxes that WordPress checks, but it doesn&rsquo;t have what we have in this room</li>
</ul>
</li>
<li>For-profits have a limit in their vision. Non-profits have difficulty making connections with enough/the right people. Working together they can achieve more.</li>
<li>&ldquo;I&rsquo;d rather put things into the world under moral licences than immoral ones&rdquo; - GPL is the &ldquo;Most moral licence&rdquo; that you can put software out under</li>
<li>&ldquo;I&rsquo;d be skeptical of an open source company that kept everyone in the same office&rdquo; - that&rsquo;s missing part of the benefit: Open source works when people are all around the world.</li>
<li>How do we structure WP so that it can adapt to what the trends are over the coming years?

<ul>
<li>more and more access is on closed proprietary devices (iphones etc.)</li>
<li>Wp wasn&rsquo;t designed with touch interaction in mind. WP apps haven&rsquo;t had a ton of community involvement</li>
</ul>
</li>
</ul>


<p><img src="https://pbs.twimg.com/media/BynhzoPIMAAwoDT.jpg" alt="Photo of Matt Mullenweg Q&amp;A by @Joan_Artes on twitter" /></p>

<p><em>Photo by <a href="https://twitter.com/Joan_Artes/status/516191909656920065/photo/1">@Joan_Artes</a></em></p>

<h2>Q&amp;A</h2>

<ul>
<li>What are your thoughts about entrepreneurship in Europe, particularly eastern europe?

<ul>
<li>@om - Local laws in Europe favour local investors over international investors: a challenge for entrepreneurship</li>
<li>&ldquo;The best thing European companies can do is to stop comparing themselves to American companies&rdquo;</li>
</ul>
</li>
<li>CFTP Wheatley: &ldquo;You&rsquo;ve scaled up 1800 people - what do those people actually do&rdquo;

<ul>
<li>Lots on support</li>
<li>Design and development: allows us to contribute much much more to WP Core</li>
<li>&ldquo;I want to scale that as far as it can go&rdquo;</li>
<li>Wants it to be an exemplar of a mixed nonprofit/for profit: prove to the world that it <em>Can</em> be done.</li>
</ul>
</li>
<li>Once we have APIs it will enable a whole new class of application - e.g. front-ends which talk to something which isn&rsquo;t WP but implements the WP API.

<ul>
<li>A Cambrian explosion for WordPress - comparable to when plugins were introduced</li>
</ul>
</li>
<li>&ldquo;We&rsquo;ve found the search in WP isn&rsquo;t very good&rdquo;

<ul>
<li>&ldquo;No it&rsquo;s terrible&rdquo;</li>
<li>If you&rsquo;re serious about search you should use a plugin that indexes your content in lucene or elasticsearch</li>
</ul>
</li>
<li>No plans now or in the future to have paid plugins - or a paid app store.

<ul>
<li>Could make things more discoverable: look at what you&rsquo;ve got installed and suggest things you might find useful</li>
</ul>
</li>
<li>This year there were more non-english downloads than english downloads

<ul>
<li>More translations will be the biggest driver of increases in WP usage</li>
</ul>
</li>
<li>How much should WP businesses be contributing to the WP community?

<ul>
<li>Maybe 5%, so if you have 100 employees, 5 of them could be contributing to core.</li>
</ul>
</li>
<li>Can we get rid of Backwards compatibility

<ul>
<li>I don&rsquo;t buy that we should break backwards compatibility for architectural purity. More inclined to do it for reasons that will mean more people use WP</li>
</ul>
</li>
<li>Lots of plugins aren&rsquo;t maintained - some maintainers may even have died. Can we get these just removed from the directory?

<ul>
<li>Plugins over 2 years old will stop showing up in search results</li>
<li>Plugin search is going to be optimised towards putting the most popular, best supported ones at the top.</li>
<li>Factor in the compatibility between plugins - plugins which work well together</li>
<li>Plugins are the most open area for innovation - it&rsquo;s an open market</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordCamp Europe 2014 Notes - 2.4: Code Deodorant]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-4-code-deodorant/"/>
    <updated>2014-09-28T10:27:07+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-4-code-deodorant</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2014.europe.wordcamp.org/">WordCamp Europe</a> in Sofia - taking rough notes on some of the talks</em></p>

<p>Tom Nowell (cftp) <a href="http://2014.europe.wordcamp.org/session/tom-nowell/">http://2014.europe.wordcamp.org/session/tom-nowell/</a></p>

<ul>
<li>Now when running vanilla WP without plugins you shouldn&rsquo;t see any warnings, so all warnings are things you should pay attention to</li>
<li>&lsquo;@&rsquo; swallows errors - hides them.</li>
<li><a href="http://codex.wordpress.org/Plugin_API/Action_Reference/pre_get_posts">pre_get_posts action</a> - useful for removing complexity: modifying queries before they get run</li>
<li>Law of Demeter &ldquo;if you&rsquo;re talking to something, only talk to the things directly adjacent to you&rdquo;</li>
<li>No global variables - random ordering of tests can help to show up issues.</li>
<li>Tools for code quality:

<ul>
<li>php syntax checking - if your editor isn&rsquo;t doing this you&rsquo;re doing it wrong. PHP Storm does this</li>
<li><a href="https://github.com/squizlabs/PHP_CodeSniffer">php code sniffer</a> - give it coding standards - it&rsquo;ll check them</li>
<li><a href="https://github.com/Halleck45/PhpMetrics">php Metrics</a></li>
<li>phpLOC - tells you how many lines, classes, namespaces, measure of code complexity</li>
<li><a href="https://github.com/phpmd/phpmd">php Mess detector</a> - fuzzy matching: helps detect typos and join up e.g. misspelled variables which might be the same thing</li>
<li>NPath &amp; Cyclomatic complexity - Cycl = number of points at which code may diverge, NPath is number of execution paths through the code.

<ul>
<li>NPath complexity is roughly equivalent to the number of unit tests that you need to have to fully test the function</li>
</ul>
</li>
</ul>
</li>
<li>Lots of WP functions have incredibly large npath complexity - WP_Query::get_posts is insanely large. Even larger in WP 4.0

<ul>
<li><a href="http://www.tomjn.com/390/wp_queryget_posts/">http://www.tomjn.com/390/wp_queryget_posts/</a></li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordCamp Europe 2014 Notes - 2.3: The Next Generation Hosting Stack]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-3-the-next-generation-hosting-stack/"/>
    <updated>2014-09-28T09:33:02+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/09/28/wordcamp-europe-2014-notes-2-dot-3-the-next-generation-hosting-stack</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2014.europe.wordcamp.org/">WordCamp Europe</a> in Sofia - taking rough notes on some of the talks</em></p>

<p>Mark Jaquith (@markjaquith) <a href="http://2014.europe.wordcamp.org/session/mark-jaquith/">http://2014.europe.wordcamp.org/session/mark-jaquith/</a></p>

<ul>
<li>Why is performance important?

<ul>
<li>It&rsquo;s not about overall speed - it&rsquo;s about the frustration of being interrupted</li>
<li>Everyone hates Lag</li>
</ul>
</li>
<li>WP has a bad rep for speed

<ul>
<li>no matter what wp core do, WP DB&rsquo;s are getting bigger, lots of functionality, lots of plugins</li>
</ul>
</li>
<li>WP is dynamic - everything is built on the fly

<ul>
<li>Why don&rsquo;t we just generate static files? - No persistent caching in core. Pages are so dynamic: search results etc. Only a small number of pages can be cached</li>
</ul>
</li>
<li>For the purposes of this talk: speed = speed of download of just the html page (not css or other assets)</li>
<li>3+ seconds = EMERGENCY</li>
<li>1-3 seconds = Slow</li>
<li>100-250ms = fast</li>
<li>&lt;100ms = instant</li>
<li>Many hosts don&rsquo;t help with static caching</li>
<li>Virtual server hosting - what to look for

<ul>
<li>Are they going to be around for a while?</li>
<li>What&rsquo;s their raw performance - lots of people have done hardcore speed tests - easily googleable</li>
<li>Value for money</li>
<li>Tool support - provisioning scripts, auto backup</li>
<li>Recommended: Linode, Digital Ocean</li>
</ul>
</li>
</ul>


<h2>Web Server</h2>

<ul>
<li>&ldquo;Nginx is the best thing to happen to web servers ever&rdquo;</li>
<li>Apache approach - php is baked in. That means there&rsquo;s an overhead for each request</li>
<li>Nginx approach - can&rsquo;t have php baked in. PHP-FPM runs php</li>
<li>PHP 5.5 has significant performance improvements over previous versions</li>
<li>HHVM - facebook project: transcodes php into machine code on the fly, with caching = crazy fast

<ul>
<li>Might not be production stable - need monitoring to catch when it crashes</li>
</ul>
</li>
</ul>


<h2>Database</h2>

<ul>
<li>MySQL is not the only option: MariaDB, Percona</li>
<li>HyperDB - project for providing a layer to manage lots of database instances</li>
</ul>


<h2>Caching</h2>

<h3>Page caching:</h3>

<ul>
<li>Questions - who, what, how long. Answers: Anonymous???, front of site, minutes, maybe hours???.</li>
<li>Nginx has a cache</li>
<li>Varnish is another option, but is another moving part</li>
<li>Plugins are tightly integrated with WP, but run in php so are much slower</li>
</ul>


<h3>Object caching:</h3>

<ul>
<li>Recommend using Redis (Pantheon uses it)</li>
<li>Memcached - used to be a recommendation. Restarting flushes the data - can cause massive spikes in load</li>
<li>Mark&rsquo;s wrappers:

<ul>
<li>TLC Tranients <a href="http://bitly/tlc-transients">http://bitly/tlc-transients</a></li>
<li>Fragment caching: <a href="http://bitly/fragment-cache">http://bitly/fragment-cache</a></li>
</ul>
</li>
</ul>


<h3>The next generation stack</h3>

<p><img src="https://pbs.twimg.com/media/Bym-26pCcAAyPVd.jpg:large" alt="The next generation WordPress hosting stack" /></p>

<ul>
<li><p>Audience qu Hyper db - works with MariaDB &amp; Percona?</p>

<ul>
<li>AFAIK yes</li>
</ul>
</li>
<li><p>My qu - can you make core use Redis for your object cache or is that just for your own caching</p>

<ul>
<li>Yes - you configure an object cache and core will use it to cache posts, taxonomies, a bunch of other things.</li>
</ul>
</li>
<li><p>Audience qu: What do you use for performance monitoring</p>

<ul>
<li>NewRelic: very expensive, but gives you amazing insights</li>
</ul>
</li>
</ul>


<p>*</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordCamp Europe 2014 Notes - 1.8: Usability Testing]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/09/27/wordcamp-europe-2014-notes-8-usability-testing/"/>
    <updated>2014-09-27T15:15:07+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/09/27/wordcamp-europe-2014-notes-8-usability-testing</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2014.europe.wordcamp.org/">WordCamp Europe</a> in Sofia - taking rough notes on some of the talks</em></p>

<p>Dario Jazbec Hrvatin - <a href="http://2014.europe.wordcamp.org/session/dario-jazbec-hrvatin/">http://2014.europe.wordcamp.org/session/dario-jazbec-hrvatin/</a></p>

<p><img src="http://photos-e.ak.instagram.com/hphotos-ak-xaf1/10665594_1562716813952100_214832350_n.jpg" alt="sketchnotes by @studionetting" /></p>

<p><em>Awesome sketchnotes by <a href="http://instagram.com/p/tc-b8atkPN/">@studionetting</a></em></p>

<ul>
<li>Remote user testing</li>
<li>Google hangouts or Skype

<ul>
<li>Important to make sure that your users are comfortable with the tech before officially starting the test</li>
</ul>
</li>
<li>Beginners or Experts as your users: depends what you&rsquo;re testing</li>
<li><p>Have a 5 minute chat to screen them: make sure that they meet your profile - that they will provide useful data</p></li>
<li><p>Scenarios: Start with the test (specific task that they need to do) then work it up into a scenario</p></li>
<li>Start off with a script</li>
<li>after that - relax them: get them talking by asking some simple questions:

<ul>
<li>&ldquo;what are your favourite themes and plugins&rdquo;</li>
</ul>
</li>
<li>Don&rsquo;t be afraid to just skip a step if they&rsquo;re struggling</li>
<li><p>To close off the session:</p>

<ul>
<li>Ask any addition questions</li>
<li>answer any questions they have</li>
<li>thank them (!!)</li>
</ul>
</li>
<li><p>Throughout: Keep a poker face</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordCamp Europe 2014 Notes - 1.7: Interactive Prototyping]]></title>
    <link href="http://dgmstuart.github.io/blog/2014/09/27/wordcamp-europe-2014-notes-7-interactive-prototyping/"/>
    <updated>2014-09-27T14:40:38+01:00</updated>
    <id>http://dgmstuart.github.io/blog/2014/09/27/wordcamp-europe-2014-notes-7-interactive-prototyping</id>
    <content type="html"><![CDATA[<p><em>I&rsquo;m at <a href="http://2014.europe.wordcamp.org/">WordCamp Europe</a> in Sofia - taking rough notes on some of the talks</em></p>

<p>Karin Christen <a href="http://2014.europe.wordcamp.org/session/karin-christen/">http://2014.europe.wordcamp.org/session/karin-christen/</a></p>

<p><img src="http://photos-e.ak.instagram.com/hphotos-ak-xaf1/10665594_1562716813952100_214832350_n.jpg" alt="sketchnotes by @studionetting" /></p>

<p><em>Awesome sketchnotes by <a href="http://instagram.com/p/tc-b8atkPN/">@studionetting</a></em></p>

<ul>
<li>Used dynamic style guide - one page in the prototype</li>
<li>Started in the browser right from the beginning - speed benefits but also:

<ul>
<li>responsiveness from the beginning</li>
<li>easy reference for the existing styles</li>
<li>visual specification - communication tool</li>
</ul>
</li>
<li>Prototypes = a basis for a specification for user testing</li>
<li>php doesn&rsquo;t work for dynamic prototypes - just html/css</li>
<li>Made a prototype Generator (in js?)

<ul>
<li>Installs quickly</li>
<li>Dynamic content without php (how??)</li>
<li>Benefit: less noise from php</li>
</ul>
</li>
<li><a href="http://vuejs.org/">http://vuejs.org/</a>

<ul>
<li>Adds attributes which can be added to markup which can e.g. optionally show and hide elements based on url query params</li>
</ul>
</li>
<li><p>Closing comment: &ldquo;The modern prototype is a living playground, not a project milestone&rdquo;</p></li>
<li><p>Audience question - if you&rsquo;re using wp - why don&rsquo;t you just jump into wp? Why go to the effort of generating content in JS?</p>

<ul>
<li>Answer: the project example was for a complex back-end which didn&rsquo;t exist yet. With WP their process is slightly different: start off designing in the browser (test there?), then port over to WP (once it&rsquo;s validated?)</li>
</ul>
</li>
<li><p>My question - how do you deal with responsive elements when you don&rsquo;t know what the context will be: media queries only work with the whole size of the page.</p>

<ul>
<li>Answer: we design in context</li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
</feed>
